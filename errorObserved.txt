(tp) utka@network-lab2:~/proj/t_pro/LoanMatchMaker$ cp .env.example .env
(tp) utka@network-lab2:~/proj/t_pro/LoanMatchMaker$ touch .gitignore
(tp) utka@network-lab2:~/proj/t_pro/LoanMatchMaker$ docker-compose up --build
Creating network "loanmatchmaker_default" with the default driver
Creating volume "loanmatchmaker_postgres_data" with default driver
Pulling postgres (postgres:14)...
14: Pulling from library/postgres
3da95a905ed5: Pull complete
19f0ef5c05c1: Pull complete
12d7c798daac: Pull complete
4a8cf8876eaf: Pull complete
49c81de484d4: Pull complete
6daa5c145afb: Pull complete
031df4666a4c: Pull complete
fcbd6877eb57: Pull complete
ab9fab465df4: Pull complete
1fccaae8d989: Pull complete
a64e2dbebcef: Pull complete
8e1f84547c99: Pull complete
cc714a87c02e: Pull complete
d99f8490c972: Pull complete
Digest: sha256:c0aab7962b283cf24a0defa5d0d59777f5045a7be59905f21ba81a20b1a110c9
Status: Downloaded newer image for postgres:14
Building backend
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

Sending build context to Docker daemon  158.7kB
Step 1/9 : FROM node:18-alpine
18-alpine: Pulling from library/node
f18232174bc9: Already exists 
dd71dde834b5: Pull complete 
1e5a4c89cee5: Pull complete 
25ff2da83641: Pull complete 
Digest: sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e
Status: Downloaded newer image for node:18-alpine
 ---> ee77c6cd7c18
Step 2/9 : WORKDIR /app
 ---> Running in bc9c1409882c
 ---> Removed intermediate container bc9c1409882c
 ---> af0534282ccd
Step 3/9 : COPY package*.json ./
 ---> b78876f822d9
Step 4/9 : RUN npm ci --only=production
 ---> Running in 4b7f739d9d1c
npm warn config only Use `--omit=dev` to omit dev dependencies from the install.
npm error code EUSAGE
npm error
npm error The `npm ci` command can only install with an existing package-lock.json or
npm error npm-shrinkwrap.json with lockfileVersion >= 1. Run an install with npm@5 or
npm error later to generate a package-lock.json file, then try again.
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /root/.npm/_logs/2025-07-04T10_27_55_417Z-debug-0.log
The command '/bin/sh -c npm ci --only=production' returned a non-zero code: 1
ERROR: Service 'backend' failed to build : Build failed
(tp) utka@network-lab2:~/proj/t_pro/LoanMatchMaker$ cd backend
(tp) utka@network-lab2:~/proj/t_pro/LoanMatchMaker/backend$ npm install
npm WARN deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
npm WARN deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
npm WARN deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm WARN deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
npm WARN deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
npm WARN deprecated crypto@1.0.1: This package is no longer supported. It's now a built-in Node module. If you've depended on crypto, you should switch to the one that's built-in.
npm WARN deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.

added 497 packages, and audited 498 packages in 14s

78 packages are looking for funding
  run `npm fund` for details

3 high severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
(tp) utka@network-lab2:~/proj/t_pro/LoanMatchMaker/backend$ npm audit fix --force
npm WARN using --force Recommended protections disabled.
npm WARN audit Updating nodemon to 3.1.10, which is a SemVer major change.

removed 3 packages, changed 2 packages, and audited 495 packages in 2s

78 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
(tp) utka@network-lab2:~/proj/t_pro/LoanMatchMaker/backend$ npm run dev

> loan-advisor-backend@1.0.0 dev
> nodemon src/app.ts

[nodemon] 3.1.10
[nodemon] to restart at any time, enter `rs`
[nodemon] watching path(s): *.*
[nodemon] watching extensions: ts,json
[nodemon] starting `ts-node src/app.ts`
/home/utka/proj/t_pro/LoanMatchMaker/backend/src/config/index.ts:11
    throw new Error(`Environment variable ${name} is required`);
          ^
Error: Environment variable DATABASE_URL is required
    at getEnvVar (/home/utka/proj/t_pro/LoanMatchMaker/backend/src/config/index.ts:11:11)
    at Object.<anonymous> (/home/utka/proj/t_pro/LoanMatchMaker/backend/src/config/index.ts:47:30)
    at Module._compile (node:internal/modules/cjs/loader:1241:14)
    at Module.m._compile (/home/utka/proj/t_pro/LoanMatchMaker/backend/node_modules/ts-node/src/index.ts:1618:23)
    at Module._extensions..js (node:internal/modules/cjs/loader:1295:10)
    at Object.require.extensions.<computed> [as .ts] (/home/utka/proj/t_pro/LoanMatchMaker/backend/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1091:32)
    at Function.Module._load (node:internal/modules/cjs/loader:938:12)
    at Module.require (node:internal/modules/cjs/loader:1115:19)
    at require (node:internal/modules/helpers:130:18)
[nodemon] app crashed - waiting for file changes before starting...